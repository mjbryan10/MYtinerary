(this["webpackJsonpmytinerary-app"]=this["webpackJsonpmytinerary-app"]||[]).push([[0],{118:function(e,t,n){e.exports=n(135)},123:function(e,t,n){},124:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),A=n(11),i=n.n(A),c=(n(123),n(13)),o=n(35),l=(n(124),n(6)),s=n(171),u=n(195),m=n(179),d=n(180),p=n(181),f=n(61),g=n.n(f),E=n(182),h=n(102),y=n(12);var b=function(e){return function(t){t({type:"USER_PENDING"}),fetch("https://my-itinerary-demo.herokuapp.com/usersAPI/user",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({token:e})}).then((function(e){return e.json()})).then((function(e){if(e.error)throw e.msg;return e.expired?t({type:"USER_EXPIRED",payload:e.msg}):t(function(e){return{type:"USER_SUCCESS",payload:e}}(e)),e})).catch((function(e){t({type:"USER_ERROR",payload:e.msg})}))}};var C=function(){var e=window.localStorage.getItem("session_token");return null===e?function(e){e({type:"USER_LOGGED_OUT"}),e({type:"CLEAR_CURRENT_USER"})}:function(t){t(function(e){return{type:"USER_LOGGED_IN",payload:e}}(e))}},v=n(14),I=n(9),j=n(7),w=n(196),O=n(178),x=n(174),S=n(136),N=n(176),k=n(177),T=n(85),R=n.n(T),P=n(86),U=n.n(P),F=n(87),L=n.n(F),B=n(84),H=n.n(B),z=Object(s.a)((function(e){return Object(u.a)({list:{width:250},fullList:{width:"auto"},menuButton:{marginRight:e.spacing(2)}})}));function Q(){var e,t=z(),n=r.a.useState({top:!1,left:!1,bottom:!1,right:!1}),a=Object(l.a)(n,2),A=a[0],i=a[1],o=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&i(Object(j.a)({},A,Object(I.a)({},e,t)))}};return r.a.createElement("div",null,r.a.createElement(O.a,{onClick:o("right",!0),className:t.menuButton,color:"inherit"},r.a.createElement(L.a,null)),r.a.createElement(w.a,{anchor:"right",open:A.right,onClose:o("right",!1)},(e="right",r.a.createElement("div",{className:t.list,role:"presentation",onClick:o(e,!1),onKeyDown:o(e,!1)},r.a.createElement(x.a,null,r.a.createElement(c.b,{to:"/",key:"0"},r.a.createElement(S.a,{button:!0},r.a.createElement(N.a,null,r.a.createElement(H.a,null)),r.a.createElement(k.a,{primary:"Home"}))),r.a.createElement(c.b,{to:"/cities",key:"1"},r.a.createElement(S.a,{button:!0},r.a.createElement(N.a,null,r.a.createElement(R.a,null)),r.a.createElement(k.a,{primary:"Cities"}))),r.a.createElement(c.b,{to:"/favourites",key:"2"},r.a.createElement(S.a,{button:!0},r.a.createElement(N.a,null,r.a.createElement(U.a,null)),r.a.createElement(k.a,{primary:"Favourites"}))))))))}var D=Object(s.a)((function(e){return Object(u.a)({root:{},menuButton:{marginRight:e.spacing(2)},bar:{display:"flex",justifyContent:"space-between"}})}));var X=Object(y.b)((function(e){return{loggedIn:e.login.loggedIn,token:e.login.token,details:e.currentUser.details,userSuccess:e.currentUser.success,error:e.currentUser.error}}),(function(e){return Object(v.bindActionCreators)({updateLoginStatus:C,fetchCurrentUser:b},e)}))((function(e){var t=D(),n=r.a.useState(null),A=Object(l.a)(n,2),i=A[0],o=A[1],s=Boolean(i),u=e.loggedIn,f=e.token,y=e.details,b=e.updateLoginStatus,C=e.fetchCurrentUser,v=e.userSuccess,I=function(e){o(null)},j=function(){window.localStorage.removeItem("session_token"),b()};return Object(a.useEffect)((function(){b(),u&&C(f)}),[C,u,f,b]),r.a.createElement("div",{className:t.root},r.a.createElement(m.a,{position:"static",style:{margin:0},color:"secondary"},r.a.createElement(d.a,{className:t.bar},r.a.createElement("div",null,r.a.createElement(p.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit"},r.a.createElement(g.a,null)),r.a.createElement(h.a,{id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:I},r.a.createElement(E.a,{onClick:u?function(e){e.preventDefault(),I(),j()}:I},u?r.a.createElement(c.b,{to:"/"},"Log out"):r.a.createElement(c.b,{to:"/login"},"Log in")),u?null:r.a.createElement(E.a,{onClick:I},r.a.createElement(c.b,{to:"/create"},"Create Account")))),v?y.name:null,r.a.createElement(Q,null))))}));n(131);function W(e){return{type:"CURRENT_CITY_ERROR",payload:e}}function M(){return{type:"RESET_CURRENT_CITY"}}function V(e){return function(t){t({type:"CURRENT_CITY_REQUEST"}),fetch("https://my-itinerary-demo.herokuapp.com/citiesAPI/".concat(e)).then((function(e){return e.json()})).then((function(e){if(e.error)throw t(W(e.error)),e.error;t({type:"CURRENT_CITY_SUCCESS",payload:e})})).catch((function(e){return t(W(e.message))}))}}var J=Object(y.b)((function(e){return{loading:e.currentCity.loading,city:e.currentCity.cities,error:e.currentCity.error}}),(function(e){return Object(v.bindActionCreators)({fetchCurrentCity:V},e)}))((function(e){var t=e.cityName,n=e.cityImg,a=e.imgCredit,A=e.fetchCurrentCity;return r.a.createElement(c.b,{className:"city-card fade-in",to:"/itineraries/"+t,onClick:function(e){A(t)}},r.a.createElement("div",{className:"city-card-inner"},n?r.a.createElement("img",{className:"fade-in",src:n,alt:a}):null,r.a.createElement("h4",null,t)))})),K=n(23),Z=n(89),_=n.n(Z),G=n(88),Y=n.n(G),q=Object(s.a)((function(){return Object(u.a)({controlsContainer:{display:"flex",flexFlow:"row wrap",width:"100%",maxWidth:"800px",justifyContent:"center",alignItems:"center",height:"25px",padding:"2px","& > *":{margin:"0 2px"}},buttonControls:{height:"25px",padding:0,"& .MuiButton-startIcon":{margin:0},"& *":{pointerEvents:"none"}}})}));function $(e){var t=q(),n=e.slideIndex,a=e.slideLength,A=e.onButtonClick,i=e.onSpanClick,c=function(e){e.preventDefault(),e.target.value?A(e.target.value):(console.log("handleClick -> e.target.key",e.target.getAttribute("data-index")),i(parseInt(e.target.getAttribute("data-index"),10)))};return r.a.createElement("div",{className:t.controlsContainer},r.a.createElement(O.a,{variant:"contained",color:"secondary",onClick:c,value:"left",className:t.buttonControls},r.a.createElement(Y.a,null)),Object(K.a)(Array(a)).map((function(e,t){return n===t?r.a.createElement("span",{onClick:c,key:t,"data-index":t,className:"span-dot current"}):r.a.createElement("span",{onClick:c,key:t,"data-index":t,className:"span-dot"})})),r.a.createElement(O.a,{variant:"contained",color:"secondary",onClick:c,value:"right",className:t.buttonControls},r.a.createElement(_.a,null)))}var ee=n(183),te=Object(s.a)((function(e){return Object(u.a)({root:{display:"flex",justifyContent:"center",alignItems:"center","& > * + *":{marginLeft:e.spacing(2)}}})})),ne=function(e){var t=e.height,n=e.width,a=te();return r.a.createElement("div",{className:a.root,style:{height:t,width:n}},r.a.createElement(ee.a,null))};function ae(e){return{type:"FETCH_CITIES_SUCCESS",payload:e}}function re(e){return{type:"FETCH_CITIES_ERROR",payload:e}}var Ae=function(){return function(e){e({type:"FETCH_CITIES_REQUEST"}),fetch("https://my-itinerary-demo.herokuapp.com/citiesAPI/top").then((function(e){return e.json()})).then((function(t){return e(ae(t)),t.cities})).catch((function(t){e(re(t.message))}))}},ie=function(e){return function(t){t({type:"FETCH_CITIES_REQUEST"}),fetch("https://my-itinerary-demo.herokuapp.com/citiesAPI/all",{method:"get",headers:{"Content-type":"application/x-www-form-urlencoded","x-api-key":e}}).then((function(e){if(200===e.status)return e.json();window.localStorage.removeItem("session_token"),C()})).then((function(e){if(e.error)throw t(re(e.error)),e.error;return t(ae(e)),e.cities})).catch((function(e){t(re(e.message))}))}},ce=Object(s.a)((function(){return Object(u.a)({destinationContainer:{display:"flex",flexFlow:"column nowrap",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:800,minHeight:"250px","& h3":{marginRight:"auto"}},cardsContainer:{display:"flex",flexFlow:"row wrap",width:"100%"}})}));var oe=Object(y.b)((function(e){return{loading:e.cities.loading,success:e.cities.success,cities:e.cities.cities,error:e.cities.error}}),(function(e){return Object(v.bindActionCreators)({fetchCities:Ae},e)}))((function(e){var t=e.fetchCities,n=e.loading,A=e.cities,i=e.success,c=ce(),o=Object(a.useState)(0),s=Object(l.a)(o,2),u=s[0],m=s[1],d=Object(a.useState)(0),p=Object(l.a)(d,2),f=p[0],g=p[1],E=function(){A&&m(Math.ceil(A.length/4))};return Object(a.useEffect)((function(){t()}),[t]),Object(a.useEffect)((function(){E()})),r.a.createElement("div",{className:c.destinationContainer},r.a.createElement("h3",null,"Popular MYtineraries"),n?r.a.createElement(ne,null):null,i?r.a.createElement("div",{className:c.cardsContainer},function(e){for(var t=[],n=4*f,a=n+4>=e.length?e.length:n+4,r=n;r<a;r++){var A=e[r];t.push(A)}return t}(A).map((function(e,t){return r.a.createElement(J,{cityName:e.name,cityImg:e.img,imgCredit:e.img_credit,key:t})}))):null,r.a.createElement($,{slideLength:u,slideIndex:f,onButtonClick:function(e){var t=f;"right"===e?t=f===u-1?0:t+1:"left"===e&&(t=0===f?u-1:t-1),g(t)},onSpanClick:function(e){g(e)}}))}));function le(){return r.a.createElement("header",null,r.a.createElement("h1",null,"MYtinerary"))}var se=n(90),ue=n.n(se);function me(){return r.a.createElement("div",{className:"start-browsing"},r.a.createElement("h2",null,"Start Browsing"),r.a.createElement(c.b,{to:"/cities"},r.a.createElement("img",{src:ue.a,alt:"\u2192",height:"150px",width:"150px"})))}function de(){return r.a.createElement("div",{className:"landing-container"},r.a.createElement(le,null),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("p",null,"Find your perfect trip, designed by insiders who know and love their cities."),r.a.createElement(me,null),r.a.createElement(oe,null)))}n(132);var pe=n(140),fe=n(19),ge=n(91),Ee=n.n(ge),he=Object(s.a)((function(e){return Object(u.a)({root:{flexGrow:1},search:Object(I.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(fe.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(fe.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(I.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})})}));function ye(e){var t=he(),n=e.value,a=e.onChange;return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(Ee.a,null)),r.a.createElement(pe.a,{value:n,onChange:a,placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}})))}var be=Object(y.b)((function(e){return{loading:e.cities.loading,hasLoaded:e.cities.success,cities:e.cities.cities,error:e.cities.error,loginPending:e.login.pending,token:e.login.token,loggedIn:e.login.loggedIn}}),(function(e){return Object(v.bindActionCreators)({fetchAllCities:ie},e)}))((function(e){var t=e.cities,n=e.fetchAllCities,A=e.loading,i=e.token,c=e.hasLoaded,o=e.loggedIn,s=Object(a.useState)(""),u=Object(l.a)(s,2),m=u[0],d=u[1];Object(a.useEffect)((function(){o&&n(i)}),[n,i,o]);return r.a.createElement("div",{className:"cities-container"},r.a.createElement("h1",null,"Cities"),r.a.createElement(ye,{className:"city-search",value:m,onChange:function(e){e.preventDefault(),d(e.target.value)}}),A?r.a.createElement(ne,null):null,c?r.a.createElement("div",{className:"cards-container"},function(){if(m.length){var e=[],n=!0,a=!1,r=void 0;try{for(var A,i=t[Symbol.iterator]();!(n=(A=i.next()).done);n=!0){var c=A.value;0===c.name.toLowerCase().search(m.toLowerCase())&&e.push(c)}}catch(o){a=!0,r=o}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return e}return t}().map((function(e,t){return r.a.createElement(J,{cityName:e.name,cityImg:e.img,imgCredit:e.img_credit,key:t})}))):null)})),Ce=n(104),ve=n(184),Ie=n(188),je=n(186),we=n(187),Oe=n(185),xe=function(e){var t=e.open,n=e.handlePopLogin,a=function(){n(!1)};return r.a.createElement("div",null,r.a.createElement(ve.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Oe.a,{id:"alert-dialog-title"},"Enjoy more of MyIntinerary"),r.a.createElement(je.a,null,r.a.createElement(we.a,{id:"alert-dialog-description"},"You need an account for the full MyIntinerary experience.")),r.a.createElement(Ie.a,null,r.a.createElement(c.b,{to:"/login"},r.a.createElement(O.a,{onClick:a,color:"primary"},"Login")),r.a.createElement(c.b,{to:"/create"},r.a.createElement(O.a,{onClick:a,color:"primary",autoFocus:!0},"Create account")))))},Se=n(198),Ne=Object(s.a)({root:{maxWidth:"800px",margin:"8px auto","& header":{display:"flex",flexFlow:"row wrap"},textOverflow:"ellipsis"},avatarContainer:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",alignItems:"center",padding:"0.2rem",margin:"0 1rem",width:"130px"}}),ke=function(e){var t=e.authorId,n=e.variant,A=void 0===n?"":n,i=Ne(),c={itineraries:[],_id:"",name:"",img:""},o=Object(a.useState)(c),s=Object(l.a)(o,2),u=s[0],m=s[1],d=Object(a.useState)(!0),p=Object(l.a)(d,2),f=p[0],g=p[1];switch(Object(a.useEffect)((function(){return g(!0),fetch("https://my-itinerary-demo.herokuapp.com/authorsAPI/".concat(t)).then((function(e){return e.json()})).then((function(e){m(e),g(!1)})).catch((function(e){return console.error(e)})),function(){m(c)}}),[]),A){case"named":return r.a.createElement("div",{className:i.avatarContainer},r.a.createElement(Se.a,{alt:u.name,src:""}),f?r.a.createElement(ne,null):r.a.createElement("p",null,u.name));default:return r.a.createElement(Se.a,{alt:u.name,src:""})}},Te=n(92),Re=n.n(Te),Pe=n(93),Ue=n.n(Pe),Fe=Object(s.a)({header:{display:"flex",flexFlow:"row wrap"},details:{flex:"1 0 auto",display:"flex",flexFlow:"column nowrap",justifyContent:"flex-start",padding:"0.2rem","h1, h2, h3, h4":{padding:0}},stats:{display:"flex","& p":{margin:"0 0.5em"}},costIndex:{fontWeight:500,fontSize:"1.1em"},tags:{"& span":{margin:"0 0.5em"}},input:{display:"none"},"label:disabled+label heart":{color:"#ccc"},heart:{margin:"15px",color:"#dc2b00","&:hover":{cursor:"pointer",transform:"scale(1.1)"}}}),Le=Object(y.b)((function(e){return{favourites:e.currentUser.details.favourites,token:e.login.token,loggedIn:e.login.loggedIn}}))((function(e){var t=e.itinerary,n=e.id,A=e.favourites,i=e.token,c=e.loggedIn,o=Fe(),s=Object(a.useState)(!1),u=Object(l.a)(s,2),m=u[0],d=u[1];Object(a.useEffect)((function(){c&&A.length&&A.includes(t._id)?d(!0):d(!1)}),[c,A,t._id]);var p,f=function(e,t,n){fetch("https://my-itinerary-demo.herokuapp.com/usersAPI/".concat(e,"/fav"),{method:"put",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","x-api-key":n},body:JSON.stringify({fav:t})}).then((function(e){return e.json()})).then((function(e){e.success&&d(!m)}))},g=Object(a.useState)(!1),E=Object(l.a)(g,2),h=E[0],y=E[1],b=function(){c||y(!h)};return r.a.createElement("header",{className:o.header},r.a.createElement(ke,{authorId:t.author_id,variant:"named"}),r.a.createElement("div",{className:o.details},r.a.createElement("h3",null,t.title),r.a.createElement("div",{className:o.stats},r.a.createElement("p",null,"Likes: ",t.likes),r.a.createElement("p",null,(p=t.duration)>=60?"".concat(p/60," hours"):p>0?"".concat(p," minutes"):"--"),r.a.createElement("p",{className:o.costIndex},Object(K.a)(Array(t.cost_rating)).map((function(e,t){return r.a.createElement("span",{key:t},"$")})))),r.a.createElement("p",{className:o.tags},t.tags.map((function(e,t){return r.a.createElement("span",{key:t},"#",e," ")})))),r.a.createElement("input",{className:o.input,id:"icon-heart-".concat(n),type:"checkbox",checked:m,onChange:function(){f(m?"del":"add",t._id,i)},disabled:!c}),r.a.createElement("label",{htmlFor:"icon-heart-".concat(n),onClick:b},m?r.a.createElement(Re.a,{className:o.heart}):r.a.createElement(Ue.a,{className:o.heart}),r.a.createElement(xe,{open:h,handlePopLogin:b})))})),Be=n(16),He=n.n(Be),ze=n(22),Qe=n(3),De=n(63),Xe=Object(s.a)((function(e){return Object(u.a)({root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:De.a[500],"&:hover":{backgroundColor:De.a[700]}},buttonProgress:{color:De.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})})),We=function(e){var t=e.text,n=e.successText,a=e.loading,A=e.success,i=Xe(),c=Object(Qe.a)(Object(I.a)({},i.buttonSuccess,A));return r.a.createElement("div",{className:i.root},r.a.createElement("div",{className:i.wrapper},r.a.createElement(O.a,{variant:"contained",color:"primary",className:c,disabled:a,type:"submit"},A?n||"Success!":t||"Submit"),a&&r.a.createElement(ee.a,{size:24,className:i.buttonProgress})))},Me=n(189),Ve=n(194),Je=n(191),Ke=Object(s.a)({root:{display:"flex",justifyContent:"space-between",padding:"0.1em 0.5em"},text:{flex:1}});var Ze=Object(y.b)((function(e){return{token:e.login.token,userName:e.currentUser.details.name}}))((function(e){var t,n=Ke(),a=e.itinId,A=e.token,i=e.userName,c=e.updateCommentArray,o=r.a.useState({text:""}),s=Object(l.a)(o,2),u=s[0],m=s[1],d=r.a.useState({text:""}),p=Object(l.a)(d,2),f=p[0],g=p[1],E=r.a.useState(null),h=Object(l.a)(E,2),y=h[0],b=h[1],C=r.a.useState(!1),v=Object(l.a)(C,2),w=v[0],O=v[1];function x(){return(x=Object(ze.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-itinerary-demo.herokuapp.com/commentsAPI/post",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","x-api-key":A},body:JSON.stringify({itin:a,author:i,text:u.text})});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("form",{className:n.root,onSubmit:function(e){e.preventDefault(),u.text.length?(O(!0),function(){return x.apply(this,arguments)}().then((function(e){e.success?(console.log(e.msg),b(!0),m(Object(j.a)({},u,{text:""})),c("add",e.comment)):(g(Object(j.a)({},f,{text:e.msg})),b(!1)),O(!1)}))):g(Object(j.a)({},u,{text:"Cannot be blank"}))}},r.a.createElement(Me.a,{className:n.text},r.a.createElement(Ve.a,{onChange:(t="text",function(e){m(Object(j.a)({},u,Object(I.a)({},t,e.target.value))),g(Object(j.a)({},f,Object(I.a)({},t,"")))}),value:u.text,placeholder:"Your comment...",multiline:!0,rows:1,rowsMax:4,error:!!f.text.length}),r.a.createElement(Je.a,{id:"text-helper-text"},f.text.length?f.text:null)),r.a.createElement(We,{loading:w,success:y}))})),_e=n(94),Ge=n.n(_e);var Ye=function(e){var t=e.deleteComment,n=r.a.useState(null),a=Object(l.a)(n,2),A=a[0],i=a[1],c=Boolean(A),o=function(){i(null)};return r.a.createElement("div",null,r.a.createElement(p.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},r.a.createElement(Ge.a,null)),r.a.createElement(h.a,{id:"long-menu",anchorEl:A,keepMounted:!0,open:c,onClose:o,PaperProps:{style:{maxHeight:216,width:200}}},r.a.createElement(E.a,{key:"delete",onClick:function(e){t(e),o()}},"Delete")))},qe=n(44),$e=Object(s.a)((function(e){return Object(u.a)({root:{display:"flex",flexFlow:"row wrap",alignItems:"center","& > *":{margin:e.spacing(1)}},text:{backgroundColor:"#f2f3f5",borderRadius:"18px",boxSizing:"border-box",display:"inline-block",lineHeight:"16px",margin:"auto 0",padding:" 0.6em",maxWidth:"100%",wordWrap:"break-word",position:"relative",whiteSpace:"normal",wordBreak:"break-word"},author:{color:e.palette.primary.main},date:{fontSize:"0.9em"}})})),et=Object(y.b)((function(e){return{token:e.login.token}}))((function(e){var t=e.comment,n=e.token,a=e.updateCommentArray,A=$e(),i=r.a.useState(!1),c=Object(l.a)(i,2),o=c[0],s=c[1];r.a.useEffect((function(){(function(){var e=Object(ze.a)(He.a.mark((function e(){var a;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-itinerary-demo.herokuapp.com/usersAPI/validate",{method:"post",headers:{Accept:"application/json, text/plain, */*","content-Type":"application/json","x-api-key":n},body:JSON.stringify({id:t.author.id})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){e.success?s(!0):s(!1)}))}),[t.author.id,n]);return r.a.createElement("div",{className:A.root+" fade-in"},r.a.createElement(qe.a,{className:A.text},r.a.createElement("span",{className:A.author},t.author.name)," ",t.text),r.a.createElement("p",{className:A.date},function(e){var t=(Date.now()-e)/6e4;if(t<60)return Math.floor(t)+"m";var n=t/60;if(n>=24){var a=Math.floor(n/24);return a>=7?Math.floor(a/7)+"w":Math.floor(n/24)+"d"}return Math.floor(n)+"h"}(t.posted)),o?r.a.createElement(Ye,{deleteComment:function(e){e.preventDefault();fetch("https://my-itinerary-demo.herokuapp.com/commentsAPI/delete",{method:"delete",headers:{Accept:"application/json, text/plain, */*","content-Type":"application/json","x-api-key":n},body:JSON.stringify({id:t._id})}).then((function(e){return e.json()})).then((function(e){e.success?a("delete",e.id):console.log(e)}))}}):null)})),tt=Object(s.a)((function(e){return Object(u.a)({root:{"& > *":{margin:e.spacing(1)}},loader:{display:"block"}})})),nt={pending:!0,success:null,data:[],page:0,count:0},at=function(e){return{type:"SUCCESS",payload:e}};function rt(e,t){switch(t.type){case"PENDING":return Object(j.a)({},e,{pending:!0});case"SUCCESS":return Object(j.a)({},e,{pending:!1,success:!0,data:t.payload.comments,count:t.payload.count});case"FAIL":return Object(j.a)({},e,{pending:!1,success:!1,data:[],count:0});case"UPDATE_DATA":return"add"===t.command?Object(j.a)({},e,{count:e.count+1,data:[t.payload].concat(Object(K.a)(e.data))}):"delete"===t.command?Object(j.a)({},e,{count:e.count-1,data:Object(K.a)(e.data.filter((function(e){return e._id!==t.payload})))}):Object(j.a)({},e);case"INCREMENT_PAGE_COUNT":return Object(j.a)({},e,{page:e.page+1});case"RESET_PAGE_COUNT":return Object(j.a)({},e,{page:0});default:throw new Error}}var At=Object(y.b)((function(e){return{loggedIn:e.login.loggedIn,token:e.login.token}}))((function(e){var t=tt(),n=e.loggedIn,A=e.itinId,i=Object(a.useReducer)(rt,nt),o=Object(l.a)(i,2),s=o[0],u=o[1];Object(a.useEffect)((function(){function e(){return"https://my-itinerary-demo.herokuapp.com/commentsAPI/".concat(A,"/").concat(s.page)}function t(){return(t=Object(ze.a)(He.a.mark((function t(){var n,a;return He.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u({type:"PENDING"}),t.next=3,fetch(e()).then((function(e){return e.json()}));case 3:return n=t.sent,t.next=6,n;case 6:(a=t.sent).success?u(at({comments:a.comments,count:a.count})):a.success||u({type:"FAIL"});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[s.page,A]);var m=function(e,t){u(function(e,t){return{type:"UPDATE_DATA",command:e,payload:t}}(e,t))},d=function(e){return function(t){t.preventDefault(),u(function(e){return"more"===e?{type:"INCREMENT_PAGE_COUNT"}:"less"===e?{type:"RESET_PAGE_COUNT"}:void 0}(e))}};return r.a.createElement("div",{className:t.root},r.a.createElement("h4",null,"Comments:"),n?r.a.createElement(Ze,{itinId:A,updateCommentArray:m}):r.a.createElement("div",null,r.a.createElement(c.b,{to:"/login"},"Log in to leave a comment")),s.pending?r.a.createElement(ne,null):null,s.data.length?s.data.map((function(e){return r.a.createElement(et,{key:e._id,comment:e,updateCommentArray:m})})):null,s.data.length?null:r.a.createElement("p",null,"No comments yet. Be the first and leave a comment!"),s.count>s.data.length&&0!==s.data.length?r.a.createElement(O.a,{className:t.loader,color:"secondary",onClick:d("more")},"Load more..."):null,s.page>0?r.a.createElement(O.a,{className:t.loader,color:"secondary",onClick:d("less")},"Show less"):null)})),it=Object(s.a)({root:{display:"flex",flexFlow:"column nowrap"},activitiesContainer:{display:"flex",width:"100%",justifyContent:"space-evenly",overflowX:"auto"},activity:{backgroundColor:"#ccc",height:"100px",width:"200px",margin:"0 3px",display:"flex",justifyContent:"center",alignItems:"center"}}),ct=function(e){var t=e.itinerary,n=it();return r.a.createElement("article",{className:n.root+" fade-in"},r.a.createElement("h4",null,"Activites:"),r.a.createElement("div",{className:n.activitiesContainer},t.activities.map((function(e,t){return r.a.createElement("div",{className:n.activity,key:t},r.a.createElement("p",null,e))}))),r.a.createElement(At,{itinId:t._id}))},ot=Object(s.a)({root:{maxWidth:"800px",margin:"8px auto","& header":{display:"flex",flexFlow:"row wrap"}},moreBtn:{width:"100%"}}),lt=function(e){var t=e.itinerary,n=ot(),A=Object(a.useState)(!1),i=Object(l.a)(A,2),c=i[0],o=i[1];return r.a.createElement(Ce.a,{className:n.root+" fade-in",elevation:3},r.a.createElement(Le,{id:t._id,itinerary:t}),c?r.a.createElement(ct,{itinerary:t}):null,r.a.createElement(O.a,{className:n.moreBtn,size:"small",color:"primary",onClick:function(e){return o(!c)}},c?"Close":"View all"))};function st(e){return{type:"FETCH_ITINERARIES_SUCCESS",payload:e}}function ut(){return{type:"RESET_ITINERARIES"}}function mt(e){return function(t){t({type:"FETCH_ITINERARIES_REQUEST"}),fetch("https://my-itinerary-demo.herokuapp.com/itinerariesAPI/city/".concat(e)).then((function(e){return e.json()})).then((function(e){if(e.error)throw e.erorr;t(st(e))})).catch((function(e){return t({type:"FETCH_ITINERARIES_FAILURE",payload:e.message})}))}}function dt(e){return pt.apply(this,arguments)}function pt(){return(pt=Object(ze.a)(He.a.mark((function e(t){var n=arguments;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!(n.length>1&&void 0!==n[1])||n[1],e.next=3,fetch("https://my-itinerary-demo.herokuapp.com/itinerariesAPI/itinerary/".concat(t)).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.error)throw e.erorr;return e.itinerary}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e){if(Array.isArray(e))return function(){var t=Object(ze.a)(He.a.mark((function t(n){var a;return He.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"FETCH_ITINERARIES_REQUEST"}),t.next=3,Promise.all(e.map((function(e){return dt(e,!1)}))).catch((function(e){return console.error(e)}));case 3:a=t.sent,console.log("fetchItinerariesById -> results",a),n(st(a));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var gt=Object(s.a)((function(e){return Object(u.a)({root:{maxWidth:800,margin:"0 auto"}})})),Et=Object(y.b)((function(e){return{cityLoading:e.currentCity.loading,city:e.currentCity.city,error:e.currentCity.error,itinerariesLoading:e.itineraries.loading,itineraries:e.itineraries.itineraries}}),(function(e){return Object(v.bindActionCreators)({fetchCurrentCity:V,fetchItineraries:mt,resetItineraries:ut,resetCurrentCity:M},e)}))((function(e){var t=e.fetchCurrentCity,n=e.city,A=(e.error,e.cityLoading),i=e.fetchItineraries,l=e.itinerariesLoading,s=e.itineraries,u=e.resetItineraries,m=e.resetCurrentCity,d=gt(),p=Object(o.g)().cityName;return Object(a.useEffect)((function(){n.length||n.error||t(p),n.error||i(n._id)}),[n._id,n.error,n.length,p,t,i]),Object(a.useEffect)((function(){return function(){u(),m()}}),[]),r.a.createElement("div",{className:d.root},A||l?r.a.createElement(ne,null):n.error?r.a.createElement("h2",null,"Sorry, it appears we are unable to find the city you were looking for."):r.a.createElement("div",{className:"fade-in"},r.a.createElement(J,{style:{display:"block"},cityName:n.name,cityImg:n.img,imgCredit:n.img_credit}),s.map((function(e){return r.a.createElement(lt,{key:e._id,itinerary:e})}))),r.a.createElement(c.b,{to:"/cities"},"Choose another city..."))}));var ht=Object(y.b)((function(e){return{token:e.login.token,itinSuccess:e.itineraries.success,itinLoading:e.itineraries.loading,itineraries:e.itineraries.itineraries,redirect:e.login.redirect}}),(function(e){return Object(v.bindActionCreators)({fetchItinerariesById:ft,resetItineraries:ut},e)}))((function(e){var t=e.token,n=e.redirect,A=e.itinSuccess,i=e.itinLoading,c=e.itineraries,s=e.fetchItinerariesById,u=e.resetItineraries,m=Object(a.useState)([]),d=Object(l.a)(m,2),p=d[0],f=d[1],g=Object(a.useState)(!1),E=Object(l.a)(g,2),h=E[0],y=E[1],b=Object(a.useState)(!1),C=Object(l.a)(b,2),v=C[0],I=C[1];return Object(a.useEffect)((function(){function e(){return(e=Object(ze.a)(He.a.mark((function e(){var n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,fetch("https://my-itinerary-demo.herokuapp.com/usersAPI/user/favourites",{method:"get",headers:{"x-api-key":t}}).then((function(e){return e.json()}));case 3:(n=e.sent).success?(f(n.favourites),I(!0)):(f([]),I(!1)),y(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u(),function(){e.apply(this,arguments)}()}),[u,t]),Object(a.useEffect)((function(){0!==p.length&&(console.log("favIds",p),s(p))}),[p,s]),n?r.a.createElement(o.a,{to:"/login"}):r.a.createElement("div",{style:{padding:"1em"}},r.a.createElement("h1",{style:{textAlign:"center"}},"Favourites"),h?r.a.createElement(ne,null):null,v?r.a.createElement("div",null,i?r.a.createElement(ne,null):null,A?c.map((function(e){return r.a.createElement(lt,{key:e._id,itinerary:e})})):null):null,v&&0===p.length?r.a.createElement("p",null,"There appears to be no favourites, try using the heart when browsing through city itineraries to add them here."):null)})),yt=n(190),bt=n(199),Ct=n(192),vt=n(95),It=n.n(vt),jt=n(96),wt=n.n(jt),Ot=Object(s.a)((function(e){return Object(u.a)({root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:200}})})),xt=function(e){var t,n=e.onValueChange,a=e.validPassword,A=e.errorString,i=Ot(),c=r.a.useState({password:"",showPassword:!1}),o=Object(l.a)(c,2),s=o[0],u=o[1];return r.a.createElement("div",{className:i.root},r.a.createElement("div",null,r.a.createElement(Me.a,{className:Object(Qe.a)(i.margin,i.textField)},r.a.createElement(bt.a,{htmlFor:"standard-adornment-password"},"Password"),r.a.createElement(yt.a,{error:!a,id:"stadard-adornment-password",type:s.showPassword?"text":"password",value:s.password,onChange:(t="password",function(e){u(Object(j.a)({},s,Object(I.a)({},t,e.target.value))),n("password",e.target.value)}),endAdornment:r.a.createElement(Ct.a,{position:"end"},r.a.createElement(p.a,{"aria-label":"toggle password visibility",onClick:function(){u(Object(j.a)({},s,{showPassword:!s.showPassword}))},onMouseDown:function(e){e.preventDefault()}},s.showPassword?r.a.createElement(It.a,null):r.a.createElement(wt.a,null)))}),r.a.createElement(Je.a,null,a?null:A))))},St=n(97),Nt=n.n(St),kt=Object(s.a)((function(e){return Object(u.a)({root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}})}));function Tt(){var e=kt();return r.a.createElement("div",{className:e.root},r.a.createElement("input",{accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file"}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(O.a,{variant:"contained",color:"secondary",component:"span",startIcon:r.a.createElement(Nt.a,null)},"Upload")))}var Rt=n(197),Pt=Object(s.a)((function(e){return Object(u.a)({typography:{padding:e.spacing(2)}})})),Ut=function(e){var t=e.textString,n=e.elementAnchor,a=Pt(),A=r.a.useState(null),i=Object(l.a)(A,2),c=i[0],o=i[1],s=Boolean(c),u=s?"simple-popover":void 0;return r.a.useEffect((function(){o(n)}),[n]),r.a.createElement("div",null,r.a.createElement(Rt.a,{id:u,open:s,anchorEl:c,onClose:function(){o(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(qe.a,{className:a.typography},t)))},Ft=Object(s.a)((function(e){return Object(u.a)({root:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},formRoot:{display:"flex",flexFlow:"column nowrap",alignItems:"center",justifyContent:"space-around",padding:"2em 3em",maxWidth:"500px",minHeight:"400px",margin:"0 auto"},upload:{display:"flex"}})}));var Lt=function(){var e,t=Ft(),n=Object(a.useState)({email:"",password:"",img:""}),A=Object(l.a)(n,2),i=A[0],c=A[1],o=Object(a.useState)(!1),s=Object(l.a)(o,2),u=s[0],m=s[1],d=Object(a.useState)({email:"",password:""}),p=Object(l.a)(d,2),f=p[0],E=p[1],h=Object(a.useState)(!1),y=Object(l.a)(h,2),b=y[0],C=y[1],v=Object(a.useState)({isDuplicate:!1,msg:""}),w=Object(l.a)(v,2),O=w[0],x=w[1],S=function(e,t){c(Object(j.a)({},i,Object(I.a)({},e,t))),E(Object(j.a)({},f,Object(I.a)({},e,"")))};function N(){return(N=Object(ze.a)(He.a.mark((function e(){var t,n,a,r;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.email,n=i.password,e.next=3,fetch("https://my-itinerary-demo.herokuapp.com/usersAPI/create",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:t.root},r.a.createElement(Ce.a,{elevation:3},r.a.createElement("form",{className:t.formRoot,onSubmit:function(e){e.preventDefault(),C(!0),function(){return N.apply(this,arguments)}().then((function(e){e.hasOwnProperty("errors")?function(e){for(var t=Object(j.a)({},f),n=0;n<e.length;n++){var a=e[n],r=a.param,A=a.msg;t[r]=A}E(t)}(e.errors):e.hasOwnProperty("duplicate")?x({isDuplicate:e.duplicate,msg:e.msg}):m(!0),C(!1)})).catch((function(e){console.error(e),m(!1),C(!1),E(e)}))}},r.a.createElement(Me.a,null,r.a.createElement(bt.a,{htmlFor:"email-input"},"Email address"),r.a.createElement(yt.a,{error:!!f.email.length,id:"email-input",onChange:(e="email",function(t){S(e,t.target.value)})}),r.a.createElement(Je.a,{id:"email-helper-text"},f.email.length?"Please provide a valid email":"We'll never share your email.")),r.a.createElement(Ut,{textString:"This email is already in use",elementAnchor:O.isDuplicate?document.getElementById("email-input"):null}),r.a.createElement(xt,{onValueChange:S,validPassword:!f.password.length,errorString:f.password}),r.a.createElement("div",{className:t.upload},r.a.createElement(g.a,{fontSize:"large",color:"secondary"}),r.a.createElement(Tt,null)),r.a.createElement(We,{loading:b,success:u,text:"Create Account",successText:"Account Created!"}))))},Bt=Object(s.a)((function(e){return Object(u.a)({root:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},formRoot:{display:"flex",flexFlow:"column nowrap",alignItems:"center",justifyContent:"space-around",padding:"2em 3em",maxWidth:"500px",minHeight:"400px",margin:"0 auto"},upload:{display:"flex"},createLink:{textAlign:"center",margin:"0.7em",display:"block"}})}));var Ht=Object(y.b)((function(e){return{loggedIn:e.login.loggedIn}}),(function(e){return Object(v.bindActionCreators)({updateLoginStatus:C},e)}))((function(e){var t,n=Bt(),A=Object(a.useState)({email:"",password:""}),i=Object(l.a)(A,2),s=i[0],u=i[1],m=Object(a.useState)({email:"",password:""}),d=Object(l.a)(m,2),p=d[0],f=d[1],g=Object(a.useState)(!1),E=Object(l.a)(g,2),h=E[0],y=E[1],b=Object(a.useState)(!1),C=Object(l.a)(b,2),v=C[0],w=C[1],O=Object(a.useState)(!1),x=Object(l.a)(O,2),S=x[0],N=x[1],k=function(e,t){u(Object(j.a)({},s,Object(I.a)({},e,t))),f({email:"",password:""})};function T(){return(T=Object(ze.a)(He.a.mark((function e(t,n){var a;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-itinerary-demo.herokuapp.com/usersAPI/login",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return S?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:n.root},r.a.createElement(Ce.a,{elevation:3},r.a.createElement("form",{className:n.formRoot,onSubmit:function(t){t.preventDefault();var n=Object(j.a)({},p);if(s.email.length||(n.email="Please enter your email"),s.password.length||(n.password="Please enter your password"),n.email.length||n.password.length)f(n);else{var a=s.email,r=s.password;y(!0),window.localStorage.removeItem("session_token"),function(e,t){return T.apply(this,arguments)}(a,r).then((function(t){t.success?(window.localStorage.setItem("session_token",t.token),w(!0),setTimeout((function(){N(!0)}),800)):f({email:t.msg,password:t.msg}),y(!1),e.updateLoginStatus()})).catch((function(t){console.error(t),y(!1),e.updateLoginStatus()}))}}},r.a.createElement(Me.a,null,r.a.createElement(bt.a,{htmlFor:"email-input"},"Email address"),r.a.createElement(yt.a,{error:!!p.email.length,id:"email-input",onChange:(t="email",function(e){k(t,e.target.value)})}),r.a.createElement(Je.a,{id:"email-helper-text"},p.email.length?p.email:null)),r.a.createElement(xt,{onValueChange:k,validPassword:!p.password.length,errorString:p.password}),r.a.createElement(We,{loading:h,success:v,text:"Log in",successText:"Success!"})),r.a.createElement(c.b,{className:n.createLink,to:"/create"},"Don't have an account? Click here.")))}));function zt(){return r.a.createElement("div",{style:{display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement("h1",null,"Page not found"),r.a.createElement("h3",null,'"This is not the page you were looking for ..."'),r.a.createElement("img",{src:"https://media.giphy.com/media/4Xbr39OD96ZmU/giphy.gif",alt:"Obi Wan waving hand"}))}n(134);var Qt=n(98),Dt=n.n(Qt);function Xt(){return r.a.createElement("footer",null,r.a.createElement(c.b,{to:"/"},r.a.createElement("img",{src:Dt.a,alt:"Home"})))}var Wt=n(101),Mt=n(193),Vt=Object(Wt.a)({spacing:8,palette:{primary:{main:"#dc2b00"},secondary:{main:"#394e56"}}});var Jt=Object(y.b)((function(e){return Object(v.bindActionCreators)({updateLoginStatus:C},e)}))((function(){return r.a.useEffect((function(){C()})),r.a.createElement(c.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement(Mt.a,{theme:Vt},r.a.createElement(X,null),r.a.createElement("div",{className:"page-content"},r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:de}),r.a.createElement(o.b,{exact:!0,path:"/MYtinerary",component:de}),r.a.createElement(o.b,{path:"/cities",component:be}),r.a.createElement(o.b,{path:"/itineraries/:cityName",component:Et}),r.a.createElement(o.b,{path:"/favourites",component:ht}),r.a.createElement(o.b,{path:"/create",component:Lt}),r.a.createElement(o.b,{path:"/login",component:Ht}),r.a.createElement(o.b,{component:zt}))),r.a.createElement(Xt,null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Kt=n(99),Zt=n(100),_t={loading:!1,success:!1,cities:[],error:""};var Gt={loading:!1,city:{},error:""};var Yt={loading:!1,success:null,itineraries:[],error:""};var qt={pending:!0,loggedIn:!1,token:"",error:"",redirect:!1};var $t={pending:!1,success:!1,details:{},error:""};var en=Object(v.combineReducers)({cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_CITIES_REQUEST":return Object(j.a)({},e,{loading:!0});case"FETCH_CITIES_SUCCESS":return{loading:!1,success:!0,cities:t.payload};case"FETCH_CITIES_ERROR":return{loading:!1,success:!1,error:t.payload};default:return e}},currentCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CURRENT_CITY_REQUEST":return Object(j.a)({},e,{loading:!0});case"CURRENT_CITY_SUCCESS":return{loading:!1,city:t.payload};case"CURRENT_CITY_ERROR":return{loading:!1,city:{error:!0},error:t.payload};case"RESET_CURRENT_CITY":return{loading:!1,city:{},error:""};default:return e}},itineraries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_ITINERARIES_REQUEST":return Object(j.a)({},e,{loading:!0,success:null});case"FETCH_ITINERARIES_SUCCESS":return{loading:!1,success:!0,itineraries:t.payload};case"FETCH_ITINERARIES_FAILURE":return{loading:!1,success:!1,itineraries:[],error:t.payload};case"RESET_ITINERARIES":return{loading:!1,success:null,itineraries:[],error:""};default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"USER_LOGGED_IN":return Object(j.a)({},e,{pending:!1,loggedIn:!0,redirect:!1,token:t.payload});case"USER_LOGGED_OUT":return Object(j.a)({},e,{pending:!1,loggedIn:!1,token:"",redirect:!0});case"REDIRECT":return Object(j.a)({},e,{redirect:!0});default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"USER_PENDING":return Object(j.a)({},e,{pending:!0});case"USER_SUCCESS":return Object(j.a)({},e,{pending:!1,success:!0,details:t.payload});case"USER_ERROR":return Object(j.a)({},e,{success:!1,details:{},error:t.payload});case"CLEAR_CURRENT_USER":return{success:!1,details:{},error:""};default:return e}}}),tn=[Zt.a],nn=Object(v.createStore)(en,Object(Kt.composeWithDevTools)(v.applyMiddleware.apply(void 0,tn)));i.a.render(r.a.createElement(y.a,{store:nn},r.a.createElement(Jt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,n){e.exports=n.p+"static/media/circled-right-2.16fd0ef3.png"},98:function(e,t){e.exports="data:image/png;base64,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30lS8MPMSLeMafzPaPPvX/Dwh0X2i9NxYgr+s3HkmwadueO4/GvoIIC/BHAaHpeCO86MZtuwph+E/t0xNcNBAL8J4GRUuUD8QVMnKtKfOPo4f8WMThH9BgJ4TADHuXDF0Z8vfSLdiZb6Q+YWH9m0aGr7CH8eATwngJM65NlF282h3MH1nJjIiOaHEcB7Anw/i2mOFRDAowLYAgEQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAABEAABEAABEAABEAABEAABEAABEKAK+XnK5COArwQYpP3PG4QACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAAARWgEAHsUehBAdYggD3WeVCAtxHAHgs9KMBfEcAeL3tQgPs9dYSuT24BxnhQgM58AtijmwcFcLYigC22p3hRgCkIYIupXpx/p3MlAtihsrMnBXBeRAA7vOjN+XdaFSOADYpbeVQAZywC2GCsV+ffSZ2HAO4zL9WzAjh1ViOA26yu43iYVtsQwF22tXI8zSlLEcBNlp7ieJxaMxDAPWbUcrzPiD0I4A57Rji+oP6EEgTQp2RCfccvtB61uAIBNKlYPKq14ysaDRw5/oX5byWKPtr/nj4J+6fMf2H8yIGNHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPA1/w+6IpPeMz1YdgAAAABJRU5ErkJggg=="}},[[118,1,2]]]);
//# sourceMappingURL=main.a7ffb49e.chunk.js.map